{{!-- Dialogue Editor Toolbar --}}
<header class="dialogue-editor-toolbar {{theme}}">
  <div class="toolbar-section file-actions">
    <button type="button" class="toolbar-btn" data-action="save" data-tooltip="{{localize 'DialogueEditor.Save'}} (Ctrl+S)">
      <i class="fa-solid fa-save"></i>
    </button>
    <button type="button" class="toolbar-btn" data-action="exportDialogue" data-tooltip="{{localize 'DialogueEditor.Export'}}">
      <i class="fa-solid fa-file-export"></i>
    </button>
    <button type="button" class="toolbar-btn" data-action="importDialogue" data-tooltip="{{localize 'DialogueEditor.Import'}}">
      <i class="fa-solid fa-file-import"></i>
    </button>
  </div>

  <div class="toolbar-divider"></div>

  <div class="toolbar-section edit-actions">
    <button type="button" class="toolbar-btn" data-action="undo" {{#unless canUndo}}disabled{{/unless}} data-tooltip="{{localize 'DialogueEditor.Undo'}} (Ctrl+Z)">
      <i class="fa-solid fa-undo"></i>
    </button>
    <button type="button" class="toolbar-btn" data-action="redo" {{#unless canRedo}}disabled{{/unless}} data-tooltip="{{localize 'DialogueEditor.Redo'}} (Ctrl+Y)">
      <i class="fa-solid fa-redo"></i>
    </button>
  </div>

  <div class="toolbar-divider"></div>

  <div class="toolbar-section node-actions">
    <div class="dropdown">
      <button type="button" class="toolbar-btn dropdown-toggle" data-tooltip="{{localize 'DialogueEditor.AddNode'}}">
        <i class="fa-solid fa-plus"></i>
        <i class="fa-solid fa-caret-down"></i>
      </button>
      <div class="dropdown-menu">
        {{#each nodeTypes}}
          <div class="dropdown-item" data-action="addNode" data-node-type="{{this.value}}">
            <i class="fa-solid {{this.icon}}"></i>
            {{this.label}}
          </div>
        {{/each}}
      </div>
    </div>
    <button type="button" class="toolbar-btn" data-action="deleteNode" {{#unless selectedNodeId}}disabled{{/unless}} data-tooltip="{{localize 'DialogueEditor.DeleteNode'}} (Del)">
      <i class="fa-solid fa-trash"></i>
    </button>
    <button type="button" class="toolbar-btn" data-action="duplicateNode" {{#unless selectedNodeId}}disabled{{/unless}} data-tooltip="{{localize 'DialogueEditor.DuplicateNode'}} (Ctrl+D)">
      <i class="fa-solid fa-copy"></i>
    </button>
    <button type="button" class="toolbar-btn" data-action="editNode" {{#unless selectedNodeId}}disabled{{/unless}} data-tooltip="{{localize 'DialogueEditor.EditNode'}}">
      <i class="fa-solid fa-edit"></i>
    </button>
  </div>

  <div class="toolbar-divider"></div>

  <div class="toolbar-section zoom-controls">
    <button type="button" class="toolbar-btn" data-action="zoomOut" data-tooltip="{{localize 'DialogueEditor.ZoomOut'}}">
      <i class="fa-solid fa-search-minus"></i>
    </button>
    <span class="zoom-level">{{zoom}}%</span>
    <button type="button" class="toolbar-btn" data-action="zoomIn" data-tooltip="{{localize 'DialogueEditor.ZoomIn'}}">
      <i class="fa-solid fa-search-plus"></i>
    </button>
    <button type="button" class="toolbar-btn" data-action="zoomFit" data-tooltip="{{localize 'DialogueEditor.ZoomFit'}}">
      <i class="fa-solid fa-expand"></i>
    </button>
    <button type="button" class="toolbar-btn" data-action="zoomReset" data-tooltip="{{localize 'DialogueEditor.ZoomReset'}}">
      <i class="fa-solid fa-compress"></i>
    </button>
  </div>

  <div class="toolbar-spacer"></div>

  <div class="toolbar-section validation-actions">
    <button type="button" class="toolbar-btn" data-action="validate" data-tooltip="{{localize 'DialogueEditor.Validate'}}">
      <i class="fa-solid fa-check-circle"></i>
      {{localize "DialogueEditor.Validate"}}
    </button>
    <button type="button" class="toolbar-btn" data-action="preview" data-tooltip="{{localize 'DialogueEditor.Preview'}}">
      <i class="fa-solid fa-play"></i>
      {{localize "DialogueEditor.Preview"}}
    </button>
  </div>

  <div class="toolbar-divider"></div>

  <div class="toolbar-section save-actions">
    <button type="button" class="toolbar-btn primary" data-action="saveAndClose">
      <i class="fa-solid fa-check"></i>
      {{localize "DialogueEditor.SaveAndClose"}}
    </button>
  </div>
</header>
